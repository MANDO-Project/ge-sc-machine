{"ast":null,"code":"import Half from \"./half\";\nexport default function (callback) {\n  var halves = [],\n      next = [],\n      q;\n  if (this._root) halves.push(new Half(this._root, this._x0, this._x1));\n\n  while (q = halves.pop()) {\n    var node = q.node;\n\n    if (node.length) {\n      var child,\n          x0 = q.x0,\n          x1 = q.x1,\n          xm = (x0 + x1) / 2;\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n    }\n\n    next.push(q);\n  }\n\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.x1);\n  }\n\n  return this;\n}","map":null,"metadata":{},"sourceType":"module"}